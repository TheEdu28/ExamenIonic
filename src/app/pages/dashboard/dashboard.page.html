<ion-header>
  <ion-toolbar>
    <ion-title>Panel de Control</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="logout()">
        <ion-icon name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="ion-padding">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Bienvenido, {{userName}}</ion-card-title>
        <ion-card-subtitle>Resumen de Mantenimientos</ion-card-subtitle>
      </ion-card-header>

      <ion-card-content>
        <ion-list>
          <ion-item>
            <ion-label>
              <h2>Próximos Mantenimientos</h2>
              <p>{{upcomingCount}} tareas pendientes</p>
            </ion-label>
          </ion-item>

          <ion-item>
            <ion-label>
              <h2>Alertas Activas</h2>
              <p>{{alertsCount}} alertas de vencimiento</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-title>Categorías</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col size="6">
              <ion-button expand="block" (click)="navigateTo('/house-maintenance')">
                <ion-icon slot="start" name="home-outline"></ion-icon>
                Casa
              </ion-button>
            </ion-col>
            <ion-col size="6">
              <ion-button expand="block" (click)="navigateTo('/vehicle-maintenance')">
                <ion-icon slot="start" name="car-outline"></ion-icon>
                Vehículos
              </ion-button>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="6">
              <ion-button expand="block" (click)="navigateTo('/health-maintenance')">
                <ion-icon slot="start" name="fitness-outline"></ion-icon>
                Salud
              </ion-button>
            </ion-col>
            <ion-col size="6">
              <ion-button expand="block" (click)="navigateTo('/pet-maintenance')">
                <ion-icon slot="start" name="paw-outline"></ion-icon>
                Mascotas
              </ion-button>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="6">
              <ion-button expand="block" (click)="navigateTo('/reports')">
                <ion-icon slot="start" name="bar-chart-outline"></ion-icon>
                Informes
              </ion-button>
            </ion-col>
            <ion-col size="6">
              <ion-button expand="block" (click)="navigateTo('/settings')">
                <ion-icon slot="start" name="settings-outline"></ion-icon>
                Configuración
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>

    <ion-card *ngIf="upcomingMaintenances.length > 0">
      <ion-card-header>
        <ion-card-title>Próximas Tareas</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <ion-list>
          <ion-item *ngFor="let item of upcomingMaintenances">
            <ion-label>
              <h3>{{item.title}}</h3>
              <p>{{item.date | date:'short'}}</p>
              <p>{{item.category}}</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
